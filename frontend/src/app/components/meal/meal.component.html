<main role="main">
  <section class="jumbotron text-center meal-bg" [ngStyle]="{'background-image': getRestaurantImage()}">
    <div class="container">
      <h1 class="jumbotron-heading text-white title">{{restaurant.name}}</h1>
    </div>
  </section>
  <div class="container">
    <div class="card">
      <div class="card-body">
        <div class="row">
          <div class="col-md-6 justify-content-center">
            {{restaurant.description}}
          </div>
          <div class="col-md-3 row justify-content-center">
            <button type="button" (click)="isFavorite(restaurant.name)" placement="bottom"
              ngbTooltip="Dodajte/Sklonite omiljene restorane" tooltipClass="foodgo-tooltip"
              class="btn btn-sm btn-outline-secondary" [disabled]='!loggedIn()'><i [class.fav]='favorite' class="fa fa-heart fa-2x"></i></button>
          </div>
          <div class="col-md-3">
            <app-rating [currentRate]=restaurant.mark></app-rating>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="py-2 bg-light">
    <div class="container">
      <h3 class="py-3">Meni</h3>
      <div class="row">
        <div class="col-md-3">
          <ul class="nav flex-column card sticky-top p-3">
            <h5>Kategorije<hr></h5>
            <li class="nav-item" *ngFor="let category of getCategories()">
              <a class="first after nav-link" [ngClass]="{'active':isActive(category)}" (click)="scrollToCategory(category)">{{category}}</a>
            </li>
          </ul>
        </div>
        <div class="col-md-6">
          <div class="row" *ngFor="let meal of meals; let i = index">
            <h3 *ngIf="firstCategory(meal.category,i)" [attr.id]="meal.category">{{meal.category}}</h3>
            <div class="card mb-4 box-shadow">
              <img class="card-img-top" [attr.alt]="meal.name" style="height: 280px; width: 100%; display: block;"
                [attr.src]="meal.mealPicture" data-holder-rendered="true">
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                  <div class="">
                    <h5 class="card-text">{{meal.name}}</h5>
                    <p class="text-muted">Cena: {{meal.price}} RSD</p>
                  </div>
                </div>
                <div class="d-flex justify-content-between align-items-center">
                  <p class="card-text">{{meal.description}}</p>
                  <div class="btn-group">
                    <button class="btn btn-warning" (click)="addToOrder(meal.name)" [disabled]='!loggedIn()'>Dodajte</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3 ">
          <h5>Informacije o restoranu</h5>
          <h6>Adresa</h6>
          <div class="text-muted mb-3">{{restaurant.address}}</div>
          <div id="map-container-google-1" class="embed-responsive embed-responsive-16by9">
            <iframe class="embed-responsive-item"
            [src]="getMapUrl()" frameborder="1"
              style="border:0"></iframe>
          </div>
          <app-order [(mealOrder)]=orderMeals [restaurantOrder]=restaurant class="p-3"></app-order>
        </div>
      </div>
    </div>
  </div>

</main>